# todo
- 重构项目
  - 目前指令部分代码比较复杂, 模块化处理不够清晰
  - 为了方便代码中引用应该将指令模块抽离成 shell-ui-core
  - 前端页面模块抽离成 shell-ui-web
- 持久化存储方案调整
  - 注册全局变量 $SHELLUI 并添加到 $PATH 中,不再借用 npm 的 PATH 地址
    - linux 与 mac 可以通过修改用户的 .zshrc 或者 .bashrc 文件注册全局变量
    - window 暂未找到相应的代码方案实现
    - 如让用户手动设置,使用学习成本将增加,有违开箱即用的初衷
    - 继续使用用户相关的 path 路径将增加不确定性,如用户使用 nvm 切换版本导致全局注册的指令不可用
  - 将配置信息持久化存储在 .shell_uirc 中,全局指令等信息存储在 .shell_ui 中
    - 用户在升级卸载 shell-ui 时不会影响到之前设置的配置与全局指令
    - 符合社区通用规范
- 脚本执行逻辑调整
  - 脚本执行将直接使用 shell 或者 cmd 或者 powershell 调用
    - 之前通过 node 子进程调用存在权限问题
    - node 子进程调用需要在升级项目或者升级执行文件逻辑时更新生成的 node 脚本
- terminal 做成多实例化,支持动态创建实例,拖拽实例
- 支持执行文件上传, 使用指定解释器执行命令
- 支持命令商城
  - 命令商场支持私有化部署
    - 商城的服务端单独设置一个包 shell-ui-store
  - 支持登陆,登陆可以管理命令模块,不登录只能下载使用
    - 管理模块包括增删改查,重命名等操作
  
## later
- 使用 node-pty 重构 terminal 部分, 考虑使用 xterm.js 作为 terminal 前端部分
  - node-pty 输出的字符是复合命令行交互的字符,前端命令行工具需要转义颜色代码与控制缩进
  - xterm.js 本身对于文本等编辑支持不友好,结合 Monaco editor 的话需要验证可行性
  - 所以将方案延后
- 桌面脚本
  - 仿 window 的桌面,脚本作为一个个图标,右键执行弹出可交互的 terminal